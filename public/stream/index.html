<!DOCTYPE html>

<html>

<head>
	<title>Stream - ArisKap</title>
	<link rel="icon" href="ENTER_HERE" />
	<link rel="stylesheet" href="../styles.css" type="text/css" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>


<body>

	<div class="nav" id="nav">
		<a href="../" class="nav-link">ArisKap</a>
		<div onclick="openNav()" id="hamburger-container">
			<div class="hamburger"></div>
			<div class="hamburger"></div>
			<div class="hamburger"></div>
		</div>
		<a class="nav-link" href="../#news">News</a>
		<a class="nav-link" href="../contact">Contact</a>
		<a class="nav-link" href="../#about">About</a>
		<span class="nav-link dropdown-title selected">Projects<span class="arrow-down selected"></span>
			<div class="dropdown">
				<a href="../flawfull" class="dropdown-link">Flawfull - Web Browser</a>
				<a href="../auto-door" class="dropdown-link">Auto Door</a>
				<a href="./" class="dropdown-link">Streaming</a>
				<a href="../chargetech" class="dropdown-link">ChargeTech - Website</a>
				<a href="../discord-bot" class="dropdown-link">Discord Bot</a>
				<a href="../image-diluter" class="dropdown-link">Image Diluter</a>
				<div class="dropdown-link dropdown-title">Future Projects <span class="arrow-right"></span>
					<div class="dropdown">
						<a href="../flawfull-os" class="dropdown-link">Flawfull - OS</a>
						<a href="../flawfull-lang" class="dropdown-link">Flawfull - Programming Language</a>
					</div>
				</div>
			</div>
		</span>
	</div>

	<div class="under-nav"></div>

	<div class="notice"><span class="warning"></span>Coming soon..</div>

	<!-- <input id="input" />

	<button onclick="save()">Save</button>

	<input type="number" readonly="readonly" id="num" />
	<button onclick="increment()">Add</button> -->

	<input id="name" placeholder="Name" />
	<input id="message" placeholder="Message" />
	<button onclick="submit()">Send</button>

	<p id="data"></p>
	<button onclick="requestData()">Request Data</button>

	
	<script src="../script.js"></script>
	<script>
		function submit() {
			const name = document.getElementById("name");
			const message = document.getElementById("message");
			console.log("Sending message...")

			//sending the data
			const xhr = new XMLHttpRequest();
			xhr.open("POST", "/stream", true);
			xhr.setRequestHeader('Content-Type', 'application/json');
			xhr.send(JSON.stringify({
				name: name.value,
				message: message.value
			}));
		}

		// at=info method=GET path="/stream" host=ariskap.herokuapp.com request_id=1b658949-b651-4ae9-959b-6dd9e90fd18a fwd="174.115.244.87" dyno=web.1 connect=2ms service=5ms status=200 bytes=255 protocol=https
		
		function requestData() {
			const placeholder = document.getElementById("data");
			console.log("Requesting data...");

			//requesting the data
			const xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function() { 
				if (this.readyState == 4 && this.status == 200) {
					console.log(this.responseText);
					placeholder.innerHTML = this.responseText;
				} else {
					console.log(this.readyState + ", " + this.status);
				}
			}
			xhr.open("GET", "/stream", true); // true for asynchronous 
			xhr.send();

			// const xhr = new XMLHttpRequest();
			// xhr.onreadystatechange = () => {
			// 	console.log(this.readyState);
			// 	if (this.readyState != 4) return;
			// 	if (this.status == 200) {
			// 		// const data = JSON.parse(this.responseText);
			// 		const data = this.responseText;
			// 		console.log(data);
			// 		placeholder.innerHTML = data;
			// 	} else {
			// 		console.log(`Failed: ${this.status}`);
			// 	}
			// 	// end of state change: it can be after some time (async)
			// };
			// xhr.open('GET', "/stream", true);
			// xhr.send();
		}


	</script>
	<!-- <script src="./script.js"></script> -->


</body>



</html>
